webpackJsonp([2],{149:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{id:"inspire"}},[n("v-content",[n("v-container",{attrs:{fluid:"","fill-height":""}},[n("v-layout",{attrs:{"align-center":"","justify-center":""}},[n("v-flex",{attrs:{xs12:"",sm8:"",md6:""}},[n("ul",[n("li",{on:{click:function(e){t.register=!0}}},[t._v("REGISTER")]),t._v(" "),n("li",{on:{click:function(e){t.register=!1}}},[t._v("LOGIN")])])]),t._v(" "),t.register?n("v-flex",{attrs:{xs12:"",sm8:"",md6:""}},[n("v-card",{staticClass:"elevation-12"},[n("v-toolbar",{attrs:{dark:"",color:"red"}},[n("v-toolbar-title",[t._v("Register")]),t._v(" "),n("v-spacer")],1),t._v(" "),n("v-card-text",[n("v-form",[n("v-text-field",{attrs:{"prepend-icon":"person",name:"name",label:"Name",type:"text"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),n("v-text-field",{attrs:{"prepend-icon":"person_outline",name:"username",label:"Username",type:"text"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),t._v(" "),n("v-text-field",{attrs:{id:"password","prepend-icon":"lock",name:"password",label:"Password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"white"},on:{click:t.signup}},[t._v("Register")])],1)],1)],1):n("v-flex",{attrs:{xs12:"",sm8:"",md6:""}},[n("v-card",{staticClass:"elevation-12"},[n("v-toolbar",{attrs:{dark:"",color:"red"}},[n("v-toolbar-title",[t._v("Login")]),t._v(" "),n("v-spacer")],1),t._v(" "),n("v-card-text",[n("v-form",[n("v-text-field",{attrs:{"prepend-icon":"person",name:"login",label:"Username",type:"text"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),t._v(" "),n("v-text-field",{attrs:{id:"password","prepend-icon":"lock",name:"password",label:"Password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"white"},on:{click:t.login}},[t._v("Login")])],1)],1)],1)],1)],1)],1),t._v(" "),n("v-snackbar",{attrs:{timeout:2e3,top:!0},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n    "+t._s(t.text)+"\n  ")])],1)},s=[],r={render:a,staticRenderFns:s};e.a=r},150:function(t,e,n){"use strict";function a(t){n(151)}var s=n(61),r=n(152),i=n(9),o=a,c=i(s.a,r.a,!1,o,"data-v-578ce3b2",null);e.a=c.exports},151:function(t,e){},152:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{id:"inspire"}},[n("v-navigation-drawer",{attrs:{fixed:"",app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[n("v-toolbar",{staticClass:"transparent",attrs:{flat:""}},[n("v-list",{staticClass:"pa-0"},[n("v-list-tile",{attrs:{avatar:""}},[n("v-list-tile-content",[n("v-list-tile-title",[t._v("VUE CHAT")])],1)],1)],1)],1),t._v(" "),n("v-list",{staticClass:"pt-0",attrs:{dense:""}},[n("v-divider"),t._v(" "),t._l(t.items,function(e){return n("v-list-tile",{key:e.title,attrs:{href:"/home/room/"+e.title}},[n("v-list-tile-action",[n("v-icon",[t._v(t._s("launch"))])],1),t._v(" "),n("v-list-tile-content",[n("v-list-tile-title",[t._v(t._s(e.title))])],1)],1)})],2)],1),t._v(" "),n("v-toolbar",{staticClass:"black--text",attrs:{color:"white",fixed:"",app:""}},[n("v-toolbar-side-icon",{staticClass:"black--text hidden-lg-and-up",on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),t._v(" "),0===t.list.length?n("v-toolbar-title",[t._v("Welcome, "+t._s(t.name))]):n("v-toolbar-title",[t._v("\n      "+t._s(t.roomName)+"\n      "),n("v-spacer"),t._v(" "),n("p",{staticStyle:{padding:"0",margin:"0","font-size":"10px",color:"lightgray"}},[t._v(t._s(t.typing))])],1),t._v(" "),n("v-spacer"),t._v(" "),t.list.length>0?n("v-btn",{attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.rightDrawer=!t.rightDrawer}}},[n("v-icon",{staticClass:"black--text"},[t._v("contacts")])],1):t._e(),t._v(" "),n("v-btn",{attrs:{icon:""},on:{click:t.disc}},[n("v-icon",{staticClass:"black--text"},[t._v("exit_to_app")])],1)],1),t._v(" "),n("v-content",[n("v-container",{attrs:{fluid:"","fill-height":""}},[n("v-layout",[n("v-flex",{attrs:{xs12:""}},[n("router-view")],1)],1)],1)],1),t._v(" "),t.list.length>0?n("v-navigation-drawer",{attrs:{fixed:"",app:"",right:""},model:{value:t.rightDrawer,callback:function(e){t.rightDrawer=e},expression:"rightDrawer"}},[n("v-toolbar",{staticClass:"transparent",attrs:{flat:""}},[n("v-list",{staticClass:"pa-0"},[n("v-list-tile",{attrs:{avatar:""}},[n("v-list-tile-content",[n("v-list-tile-title",[t._v("Active Members")])],1)],1)],1)],1),t._v(" "),n("v-list",{staticClass:"pt-0",attrs:{dense:""}},[n("v-divider"),t._v(" "),t._l(t.list,function(e){return n("v-list-tile",{key:e._id},[n("v-list-tile-content",[n("v-list-tile-title",[t._v(t._s(e.name))])],1)],1)})],2)],1):t._e()],1)},s=[],r={render:a,staticRenderFns:s};e.a=r},153:function(t,e,n){"use strict";function a(t){n(154)}var s=n(62),r=n(155),i=n(9),o=a,c=i(s.a,r.a,!1,o,"data-v-7ad0ab40",null);e.a=c.exports},154:function(t,e){},155:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"text-align":"center"}},[n("h1",[t._v("WELCOME TO VUE CHAT")]),t._v(" "),n("p",[t._v("Select a room.")])])}],r={render:a,staticRenderFns:s};e.a=r},156:function(t,e,n){"use strict";function a(t){n(157)}var s=n(63),r=n(159),i=n(9),o=a,c=i(s.a,r.a,!1,o,"data-v-1ec74722",null);e.a=c.exports},157:function(t,e){},159:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticStyle:{position:"relative",height:"100%","padding-bottom":"0"}},[n("ol",{staticStyle:{"margin-bottom":"15vh"},attrs:{id:"chatRoom"}},t._l(t.messageSet,function(e){return n("li",{key:e.key,class:e.textClass,attrs:{message:e}},["user"===e.textClass?n("b",[t._v(t._s(e.from)+": ")]):t._e(),t._v(" "+t._s(e.text)+"\n      "),"user"===e.textClass?n("p",{staticStyle:{color:"lightgrey"}},[t._v(t._s(e.createdAt))]):t._e()])})),t._v(" "),n("v-form",{staticStyle:{width:"100%",position:"absolute",bottom:"0",left:"0","background-color":"#fafafa"},attrs:{method:"post"},on:{submit:function(e){return e.preventDefault(),t.sendMessage(e)}}},[n("v-text-field",{staticStyle:{width:"100%"},attrs:{placeholder:"ENTER YOUR MESSAGE","append-icon":"send","append-icon-cb":t.sendMessage,"prepend-icon":"mood","prepend-icon-cb":function(){return t.displayEmoji=!t.displayEmoji}},on:{blur:t.doneTyping},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}}),t._v(" "),t.displayEmoji?n("picker",{staticStyle:{width:"100%",height:"30vh"},attrs:{title:"Pick your emojiâ€¦",emoji:"point_up",id:"picker",native:!1,set:"apple",showPreview:!1},on:{select:t.insertSymbol}}):t._e()],1)],1)},s=[],r={render:a,staticRenderFns:s};e.a=r},185:function(t,e){},37:function(t,e,n){"use strict";e.a={name:"app"}},38:function(t,e,n){"use strict";var a=n(39),s=n.n(a),r=n(40),i=n.n(r),o=n(54);e.a={name:"join",data:function(){return{msg:"Welcome To Chat App",register:!1,drawer:null,name:null,username:null,password:null,snackbar:!1,text:null}},props:{source:String},mounted:function(){this.$store.state.user._id&&this.$router.push("/home")},methods:{signup:function(){var t=this;return i()(s.a.mark(function e(){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.name&&t.username&&t.password){e.next=5;break}t.snackbar=!0,t.text="Fill up all the details.",e.next=9;break;case 5:return e.next=7,Object(o.c)(t.name,t.username,t.password);case 7:n=e.sent,n?(t.snackbar=!0,t.text="Successful ! Login to continue"):(t.snackbar=!0,t.text="Some error occured, try again");case 9:case"end":return e.stop()}},e,t)}))()},login:function(){var t=this;return i()(s.a.mark(function e(){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.username&&t.password){e.next=5;break}t.snackbar=!0,t.text="Fill up all the details.",e.next=9;break;case 5:return e.next=7,Object(o.b)(t.username,t.password);case 7:n=e.sent,n?(t.$socket.emit("refreshSocket",t.username),t.$router.push("/home")):(t.snackbar=!0,t.text="Error occured");case 9:case"end":return e.stop()}},e,t)}))()}}}},54:function(t,e,n){"use strict";function a(t,e,n){u.a.state.user._id?n():n("/")}n.d(e,"c",function(){return v}),n.d(e,"b",function(){return m}),e.a=a;var s=n(39),r=n.n(s),i=n(40),o=n.n(i),c=n(126),l=n.n(c),u=n(60),v=function(){var t=o()(r.a.mark(function t(e,n,a){var s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.request({url:"/api/signup",method:"post",data:{name:e,username:n,password:a}});case 3:if(s=t.sent,200!==s.status){t.next=6;break}return t.abrupt("return",!0);case 6:t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",!1);case 11:case"end":return t.stop()}},t,this,[[0,8]])}));return function(e,n,a){return t.apply(this,arguments)}}(),m=function(){var t=o()(r.a.mark(function t(e,n){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.request({url:"/api/login",method:"post",data:{username:e,password:n}});case 3:return a=t.sent,u.a.commit("USER_DATA",a.data),t.abrupt("return",!0);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",!1);case 11:case"end":return t.stop()}},t,this,[[0,8]])}));return function(e,n){return t.apply(this,arguments)}}()},60:function(t,e,n){"use strict";var a=n(24),s=n(145),r=n(146);a.a.use(s.a);var i={user:{},room:null},o={USER_DATA:function(t,e){t.user=e},CURRENT_ROOM:function(t,e){t.room=e},RESET_DATA:function(t){t.user={},t.room=null},SOCKET_DISCONNECT:function(t){t.user={}},SOCKET_CHECK:function(t,e){console.log(e)}};e.a=new s.a.Store({state:i,mutations:o,plugins:[Object(r.a)()]})},61:function(t,e,n){"use strict";e.a={name:"home",data:function(){return{drawer:!0,rightDrawer:!1,items:[{title:"PUBLIC"},{title:"C"},{title:"C++"},{title:"JAVA"},{title:"PYTHON"}],right:null,name:null,roomName:null,typing:null,list:[]}},mounted:function(){this.$store.state.user._id?this.name=this.$store.state.user.name:this.$router.push("/")},methods:{disc:function(){this.$store.commit("RESET_DATA"),this.$socket.emit("logout",this.$store.state.user.username),this.$router.push("/")}},sockets:{updateUserList:function(t){console.log(t),this.list=t},updateRoomName:function(t){this.roomName=t},userTyping:function(t){this.typing=t},done:function(){this.typing=null}}}},62:function(t,e,n){"use strict";e.a={name:"intro",data:function(){return{drawer:!0}}}},63:function(t,e,n){"use strict";var a=n(158);n.n(a);e.a={name:"room",data:function(){return{room:null,message:"",displayEmoji:!1,messageSet:[]}},components:{Picker:a.Picker},beforeMount:function(){this.room=this.$route.params.name;var t=this.$store.state.user;this.$store.commit("CURRENT_ROOM",this.room),this.$socket.emit("join",{room:this.room,name:t.name,username:t.username},function(t){t&&this.$router.push("/")}),this.$socket.emit("newRoom",this.room)},methods:{insertSymbol:function(t){this.message+=t.native},autoScroll:function(){var t=document.getElementById("chatRoom"),e=t.lastChild,n=t.clientHeight,a=t.scrollTop,s=t.scrollHeight,r=void 0,i=void 0;e&&(r=e.clientHeight,e.previousSibling&&(i=e.previousSibling.clientHeight,n+a+r+i>=s&&window.scrollTo(0,s)))},sendMessage:function(){this.message&&(this.$socket.emit("createMessage",{from:this.$store.state.user.name,text:this.message,room:this.room}),this.message="")},doneTyping:function(){this.$socket.emit("doneTyping",{room:this.room})}},sockets:{newMessage:function(t){var e=this;this.messageSet.push(t),setTimeout(function(){e.autoScroll()},300)}},watch:{message:function(t,e){e.length<t.length?this.$socket.emit("typing",{from:this.$store.state.user.name,room:this.room}):this.$socket.emit("doneTyping",{room:this.room})},displayEmoji:function(t,e){t?(document.getElementById("chatRoom").style.marginBottom="45vh",setTimeout(function(){window.scrollTo(0,document.body.scrollHeight)},500)):document.getElementById("chatRoom").style.marginBottom="15vh"}}}},77:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(24),s=n(80),r=n(84),i=n(160),o=n.n(i),c=n(60),l=n(161),u=(n.n(l),n(162)),v=n.n(u),m=n(188),p=n.n(m);n.e(0).then(n.bind(null,191)),a.a.use(o.a),a.a.config.productionTip=!1,Object(l.sync)(c.a,r.a);var d=v()("");a.a.use(p.a,d,c.a),new a.a({el:"#app",router:r.a,socket:d,store:c.a,template:"<App/>",components:{App:s.a}})},80:function(t,e,n){"use strict";function a(t){n(81)}var s=n(37),r=n(83),i=n(9),o=a,c=i(s.a,r.a,!1,o,null,null);e.a=c.exports},81:function(t,e){},83:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("main",[n("router-view")],1)])},s=[],r={render:a,staticRenderFns:s};e.a=r},84:function(t,e,n){"use strict";var a=n(24),s=n(85),r=n(86),i=n(150),o=n(153),c=n(156),l=n(54);a.a.use(s.a),e.a=new s.a({mode:"history",routes:[{path:"/",name:"Join",component:r.a},{path:"/home",name:"Home",component:i.a,beforeEnter:l.a,children:[{path:"",component:o.a},{path:"room/:name",component:c.a}]}]})},86:function(t,e,n){"use strict";function a(t){n(87)}var s=n(38),r=n(149),i=n(9),o=a,c=i(s.a,r.a,!1,o,"data-v-f22e5524",null);e.a=c.exports},87:function(t,e){}},[77]);
//# sourceMappingURL=app.7d5cb47b63d3d2f87f33.js.map